<!DOCTYPE html>

<html lang="es">

    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Funciones de Orden Superior</title>
    </head>

    <body>
        <header>
            <h1>Funciones de Orden Superior</h1>
        </header>

        <main>
            <section id="ingresarInfo">
                <form class="formulario" action="">
                    <div class="formulario_numero1">
                        <label for="numero1">Ingrese el primer número: </label>
                        <input type="number" name="numero1" id="numero1" min="1" />
                    </div>

                    <div class="formulario_numero2">
                        <label for="numero2">Ingrese el segundo número: </label>
                        <input type="number" name="numero2" id="numero2" min="1" />
                    </div>
                </form>
                <button onclick="iniciarPrograma()">Enviar</button>
            </section>

            <section id="resultado">
                <span class="textResult"></span>
            </section>
        </main>

        <script>
            const ingresarInfo = document.getElementById("ingresarInfo");
            const resultadoInfo = document.getElementById("resultado");
            
            function operaciones(callback, num, infoFormData) {
                const arrResult = [];
            
                for (i = 0; i < num; i++) {
                    arrResult.push(callback(infoFormData[0] + i, infoFormData[1] * (i === 0 ? 1 : i) + 5));
                }
            
                return arrResult;
            }


            

            function validarNumero(num) {
                while ((Number(num) < 1) || (isNaN(num) && num.length > 0)) {
                    alert("Error, el número ingresado es inválido. Inténtelo de nuevo.");
                    return False;
                }
                return Number(num);
            }

            function iniciarPrograma() {
                const formulario = ingresarInfo.querySelector(".formulario");
                const formData = new FormData(formulario);
                let num1User = validarNumero(formData.getAll("numero1"));
                let num2User = validarNumero(formData.getAll("numero2"));

                
                const resultado = operaciones((num1, num2) => {return num1 * num2;}, 3, [num1User, num2User]);
                console.log(resultado);
            }
        </script>
    </body>

</html>